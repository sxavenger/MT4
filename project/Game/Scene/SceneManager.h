#pragma once

//-----------------------------------------------------------------------------------------
// include
//-----------------------------------------------------------------------------------------
//* scene
#include "IScene.h"

////////////////////////////////////////////////////////////////////////////////////////////
// SceneManager class
////////////////////////////////////////////////////////////////////////////////////////////
class SceneManager {
public:

	//=========================================================================================
	// public methods
	//=========================================================================================

	//! [template]
	//! スタート時のsceneの設定
	template <DerivedFromIScene T>
	void Init();

	void Init(std::unique_ptr<IScene>& scene);

	void Term();

	void Update();

	void Draw();

	void ChangeScene();

private:

	//=========================================================================================
	// private variables
	//=========================================================================================

	//* scene *//

	std::unique_ptr<IScene> scene_ = nullptr;

};

////////////////////////////////////////////////////////////////////////////////////////////
// SceneManager class template methods
////////////////////////////////////////////////////////////////////////////////////////////

template<DerivedFromIScene T>
inline void SceneManager::Init() {
	scene_ = std::make_unique<T>();
	scene_->Init();
}
